# Architecture of EVA Database System

<img src="https://raw.githubusercontent.com/georgia-tech-db/eva/master/docs/images/eva/eva-arch.png" alt="EVA Architecture Diagram" width="500">

* `server` - Code for launching server that sends client commands to command handler.
* `parser` - Converts SQL queries to statements (e.g., CREATE, SELECT, INSERT, and LOAD statements).
* In a SELECT statement, some tokens are directly mapped to expressions (`expression`). For instance, an user-defined function is mapped to function expression.
* `optimizer / statement_to_opr_convertor.py` - Optimizer transforms every statement to a tree-structured query plan (`optimizer / operators.py`).
* For statements other than complex SELECT queries, it is mostly one-to-one mapping from statement to operator tree.
* SELECT statements are expanded to different operators PROJECT and FILTER, etc.
* `optimizer / plan_generator.py` - Generation of query plan.
* All operators in the tree are converted to group expression for optimization(`optimizer / group_expression.py`).
* The optimizer rewrites the query based on a collection of UDF-centric rules(`optimizer / rules`).
* `executor` - The execution engine runs the physical plan generated by the optimizer.
* `storage` - This component manages both structured (using `sqlalchemy`) and unstructured data on disk.
